<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Contribution Quest - Sam Freund</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/meaning-adventure.css">
	<link rel="icon" type="image/x-icon" href="/images/icons/smalllogo.ico">
</head>
<body>
	<nav id="navigation" class="navbar navbar-expand-lg">
		<a class="navbar-brand" href="index.html">SF</a>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
			aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="nav-link" href="index.html">About</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="experience.html">Experience</a>
				</li>
				<li class="nav-item active">
					<a class="nav-link" href="portfolio.html">Portfolio <span class="visually-hidden">(current)</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="blog.html">Blog</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="index.html#contact">Contact</a>
				</li>
			</ul>
		</div>
	</nav>

	<main class="mq-page section">
		<div class="container mq-wrap">
			<div class="mq-header">
				<h1>CONTRIBUTION QUEST</h1>
				<p>A story adventure about surviving a fierce jungle by helping the animals who become your allies.</p>
				<p class="mq-sub">You can understand and speak with the animals, and your choices reveal how you naturally contribute while finding your way home.</p>
			</div>

			<div class="mq-card">
				<div class="mq-progress"><span id="mq-progress-text">Scene 1 of 6</span></div>
				<h2 id="mq-scene-title">A child wakes up in a fierce jungle</h2>
				<p id="mq-scene-text">
					The storm is loud, the jungle is huge, and home is nowhere in sight. Choose the first step.
				</p>
				<div id="mq-choices" class="mq-choices"></div>
				<div id="mq-result" class="mq-result" hidden></div>
			</div>

			<div class="mq-card mq-sources">
				<details>
					<summary>Why these choices work</summary>
					<p>This story uses recurring themes from psychology and meaning research.</p>
					<ul>
						<li><a href="https://www.goodreads.com/quotes/10187202-we-can-discover-this-meaning-in-life-in-three-different" target="_blank" rel="noopener">Frankl: creation, experience, and attitude toward suffering</a></li>
						<li><a href="https://pubmed.ncbi.nlm.nih.gov/30614732/" target="_blank" rel="noopener">Coherence, purpose, and mattering as meaning components</a></li>
						<li><a href="https://selfdeterminationtheory.org/the-theory/" target="_blank" rel="noopener">Self-Determination Theory: autonomy, competence, relatedness</a></li>
						<li><a href="https://www.britannica.com/topic/human-behavior/Personality-and-social-development" target="_blank" rel="noopener">Erikson: generativity and contribution in adulthood</a></li>
					</ul>
				</details>
			</div>
		</div>
	</main>

	<footer class="copyrightSection">
		<p>&copy; Sam Freund 2025</p>
	</footer>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
	<script>
		(function() {
			var scores = {
				care: 0,
				build: 0,
				guide: 0,
				wonder: 0,
				resilience: 0
			};

			var scenes = [
				{
					title: 'Scene 1: Lost at Dawn',
					text: 'You wake in tangled vines after a storm and discover you can communicate with the animals. A scared monkey, an injured parrot, and a cautious tapir watch you from the trees.',
					choices: [
						{ label: 'Calm the monkey first and make it feel safe near you.', add: { care: 2, guide: 1 } },
						{ label: 'Build a quick shelter so everyone has a safe base.', add: { build: 2, guide: 1 } },
						{ label: 'Gather the animals and set a simple plan for the day.', add: { guide: 2, care: 1 } }
					]
				},
				{
					title: 'Scene 2: River of Trouble',
					text: 'By noon, your new animal friends lead you to a roaring river. You can only continue if the whole group crosses together.',
					choices: [
						{ label: 'Design a sturdy vine bridge the group can trust.', add: { build: 2, resilience: 1 } },
						{ label: 'Guide each animal across one by one with patience.', add: { care: 1, guide: 2 } },
						{ label: 'Teach a clear crossing order so the group moves safely together.', add: { guide: 2, build: 1 } }
					]
				},
				{
					title: 'Scene 3: Night Under the Canopy',
					text: 'At night, the animals curl up near your fire. The jungle is still dangerous, but you are no longer alone.',
					choices: [
						{ label: 'Promise yourself to stay kind and brave under pressure.', add: { resilience: 2, wonder: 1 } },
						{ label: 'Practice survival skills to better protect your friends.', add: { build: 2, resilience: 1 } },
						{ label: 'Watch the stars and reflect on what truly matters.', add: { wonder: 2, care: 1 } }
					]
				},
				{
					title: 'Scene 4: The Animal Dispute',
					text: 'At sunrise, parrots and boars fight over fruit trees. If this escalates, your fragile jungle alliance could break.',
					choices: [
						{ label: 'Hear both sides fully and guide a peace agreement.', add: { care: 2, guide: 1 } },
						{ label: 'Create a fair feeding schedule and test it today.', add: { build: 2, guide: 1 } },
						{ label: 'Hold a clear fairness line even if both sides resist.', add: { resilience: 2, wonder: 1 } }
					]
				},
				{
					title: 'Scene 5: The Lost Cubs',
					text: 'Another storm hits. The youngest animals are scattered, and your friends look to you for direction.',
					choices: [
						{ label: 'Lead a careful search and reunite every cub with family.', add: { care: 2, guide: 1 } },
						{ label: 'Build storm markers and safer routes for next time.', add: { build: 2, resilience: 1 } },
						{ label: 'Train older animals to lead rescue teams themselves.', add: { guide: 2, care: 1 } }
					]
				},
				{
					title: 'Scene 6: Path Home',
					text: 'You reach the jungle edge and finally see the path home. Your animal friends gather and ask what kind of helper you became.',
					choices: [
						{ label: 'I help by caring for others when they feel fear.', add: { care: 2, resilience: 1 } },
						{ label: 'I help by solving hard problems that keep others safe.', add: { build: 1, resilience: 2 } },
						{ label: 'I help by carrying hope and meaning through hardship.', add: { wonder: 2, resilience: 1 } }
					]
				}
			];

			// Rebalance: each trait is compared against its own possible max.
			function computeTraitMax(sceneList) {
				var maxByTrait = {};
				Object.keys(scores).forEach(function(trait) { maxByTrait[trait] = 0; });

				sceneList.forEach(function(scene) {
					var sceneMax = {};
					Object.keys(scores).forEach(function(trait) { sceneMax[trait] = 0; });

					scene.choices.forEach(function(choice) {
						Object.keys(choice.add).forEach(function(trait) {
							if (choice.add[trait] > sceneMax[trait]) sceneMax[trait] = choice.add[trait];
						});
					});

					Object.keys(sceneMax).forEach(function(trait) {
						maxByTrait[trait] += sceneMax[trait];
					});
				});

				return maxByTrait;
			}

			var traitMax = computeTraitMax(scenes);

			var profiles = {
				care: {
					title: 'Relational Contributor',
					story: 'The monkey calls you Heart Keeper, the one who protects bonds when fear rises.',
					how: 'You create meaning through care, trust, and human connection.',
					next: 'Contribution ideas: mentoring, counseling, teaching, community care programs.',
					examples: [
						'Mentoring a new coworker through their first 90 days.',
						'Volunteering weekly with a youth support or community center.',
						'Starting a peer listening group for people under stress.'
					]
				},
				build: {
					title: 'Builder of Useful Things',
					story: 'The tapir calls you Path Builder, the one who turns danger into safe passage.',
					how: 'You create meaning by making systems, tools, or craft that improve lives.',
					next: 'Contribution ideas: product building, automation, open-source tools, process design.',
					examples: [
						'Building a simple app that saves people time on repetitive tasks.',
						'Automating a manual workflow for a nonprofit or local team.',
						'Contributing fixes or documentation to an open-source project.'
					]
				},
				guide: {
					title: 'Community Guide',
					story: 'The parrots call you Circle Leader, the one who helps many voices move as one.',
					how: 'You create meaning by organizing people and helping groups move together.',
					next: 'Contribution ideas: team leadership, civic projects, nonprofit operations, facilitation.',
					examples: [
						'Running a neighborhood cleanup or mutual-aid coordination effort.',
						'Facilitating a cross-team planning session at work.',
						'Leading volunteer scheduling for a community event.'
					]
				},
				wonder: {
					title: 'Meaning Maker',
					story: 'The owl calls you Lantern Mind, the one who keeps wonder alive in dark moments.',
					how: 'You create meaning through reflection, beauty, and reminding others what matters.',
					next: 'Contribution ideas: writing, art, spiritual care, storytelling, retreat leadership.',
					examples: [
						'Writing essays or stories that help people make sense of hard seasons.',
						'Creating art or music projects that bring communities together.',
						'Hosting small reflection circles or guided journaling sessions.'
					]
				},
				resilience: {
					title: 'Steady Courage Contributor',
					story: 'The jaguar calls you Steady Flame, the one who stands firm in storms.',
					how: 'You create meaning by facing hard reality and turning pain into service.',
					next: 'Contribution ideas: crisis support, recovery work, coaching through transition, advocacy.',
					examples: [
						'Supporting crisis-response efforts in your local community.',
						'Coaching people through layoffs, career changes, or major transitions.',
						'Advocating for people who lack access to basic services.'
					]
				}
			};

			var idx = 0;
			var titleEl = document.getElementById('mq-scene-title');
			var textEl = document.getElementById('mq-scene-text');
			var choicesEl = document.getElementById('mq-choices');
			var resultEl = document.getElementById('mq-result');
			var progressEl = document.getElementById('mq-progress-text');

			function addScores(add) {
				Object.keys(add).forEach(function(key) {
					scores[key] += add[key];
				});
			}

			function sortedTraits() {
				var normalized = normalizedScores();
				return Object.keys(scores).sort(function(a, b) {
					if (normalized[b] !== normalized[a]) return normalized[b] - normalized[a];
					if (scores[b] !== scores[a]) return scores[b] - scores[a];
					return a.localeCompare(b);
				});
			}

			function normalizedScores() {
				var normalized = {};
				Object.keys(scores).forEach(function(trait) {
					var max = traitMax[trait] || 1;
					normalized[trait] = scores[trait] / max;
				});
				return normalized;
			}

			function examplesHtml(list) {
				return '<ul>' + list.map(function(item) {
					return '<li>' + item + '</li>';
				}).join('') + '</ul>';
			}

			function renderScene() {
				var scene = scenes[idx];
				progressEl.textContent = 'Scene ' + (idx + 1) + ' of ' + scenes.length;
				titleEl.textContent = scene.title;
				textEl.textContent = scene.text;
				choicesEl.innerHTML = '';

				scene.choices.forEach(function(choice) {
					var btn = document.createElement('button');
					btn.className = 'mq-choice';
					btn.type = 'button';
					btn.textContent = choice.label;
					btn.addEventListener('click', function() {
						addScores(choice.add);
						idx++;
						if (idx >= scenes.length) {
							renderResult();
						} else {
							renderScene();
						}
					});
					choicesEl.appendChild(btn);
				});
			}

			function renderResult() {
				var top = sortedTraits();
				var normalized = normalizedScores();
				var primary = profiles[top[0]];
				var secondary = profiles[top[1]];
				var closeResult = Math.abs(normalized[top[0]] - normalized[top[1]]) <= 0.08;
				choicesEl.innerHTML = '';
				progressEl.textContent = 'Complete';
				titleEl.textContent = closeResult ? 'The Jungle\'s Answer: Two Strong Paths' : 'The Jungle\'s Answer';
				textEl.textContent = 'You may have found the path home, but you also found the way you naturally serve others.';
				resultEl.hidden = false;
				resultEl.innerHTML =
					'<h4>' + primary.title + ' (' + Math.round(normalized[top[0]] * 100) + '% fit)</h4>' +
					'<p><strong>Story reading:</strong> ' + primary.story + '</p>' +
					'<p>' + primary.how + '</p>' +
					'<p><strong>Try this next:</strong> ' + primary.next + '</p>' +
					'<p><strong>Real-life examples:</strong></p>' +
					examplesHtml(primary.examples) +
					'<hr>' +
					'<p><strong>' + (closeResult ? 'Co-primary path' : 'Secondary path') + ':</strong> ' + secondary.title + ' (' + Math.round(normalized[top[1]] * 100) + '% fit)</p>' +
					'<p><strong>Story reading:</strong> ' + secondary.story + '</p>' +
					'<p><strong>Real-life examples:</strong></p>' +
					examplesHtml(secondary.examples) +
					'<button class="mq-restart" type="button">Play again</button>';

				resultEl.querySelector('.mq-restart').addEventListener('click', function() {
					Object.keys(scores).forEach(function(k) { scores[k] = 0; });
					idx = 0;
					resultEl.hidden = true;
					renderScene();
				});
			}

			renderScene();
		})();
	</script>
</body>
</html>
