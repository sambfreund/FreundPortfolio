<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>QA Test Case Generator - Sam Freund</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/test-case-generator.css">
	<link rel="icon" type="image/x-icon" href="/images/icons/smalllogo.ico">
</head>
<body>
	<nav id="navigation" class="navbar navbar-expand-lg">
		<a class="navbar-brand" href="index.html">SF</a>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
			aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="nav-link" href="index.html">About</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="experience.html">Experience</a>
				</li>
				<li class="nav-item active">
					<a class="nav-link" href="portfolio.html">Portfolio <span class="visually-hidden">(current)</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="blog.html">Blog</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="index.html#contact">Contact</a>
				</li>
			</ul>
		</div>
	</nav>

	<main class="tc-page section">
		<div class="container tc-container">
			<div class="tc-header">
				<h1>QA TEST CASE GENERATOR</h1>
				<p>Paste a feature description and get structured test ideas in seconds.</p>
			</div>

			<div class="tc-card">
				<form id="tc-form" class="tc-form">
					<div class="tc-field">
						<label for="feature-input">Feature or Requirement</label>
						<textarea id="feature-input" rows="5" placeholder="Example: Users can reset their password by email and must enter a valid token within 15 minutes." required></textarea>
					</div>
					<div class="tc-field">
						<label for="notes-input">Optional Notes</label>
						<input id="notes-input" type="text" placeholder="Example: Web only, mobile deferred">
					</div>
					<div class="tc-grid">
						<div class="tc-field">
							<label for="platform-input">Platform</label>
							<select id="platform-input">
								<option value="Web">Web</option>
								<option value="Mobile">Mobile</option>
								<option value="API">API</option>
								<option value="Desktop">Desktop</option>
							</select>
						</div>
						<div class="tc-field">
							<label for="risk-input">Risk Level</label>
							<select id="risk-input">
								<option value="Medium">Medium</option>
								<option value="High">High</option>
								<option value="Low">Low</option>
							</select>
						</div>
					</div>
					<button type="submit" class="tc-btn tc-btn-primary">
						<i class="fas fa-wand-magic-sparkles"></i> Generate Test Cases
					</button>
				</form>
			</div>

			<div id="tc-results" class="tc-card tc-results" hidden>
				<div class="tc-actions">
					<button id="copy-plain" class="tc-btn tc-btn-secondary" type="button">
						<i class="fas fa-copy"></i> Copy Plain Text
					</button>
					<button id="copy-markdown" class="tc-btn tc-btn-secondary" type="button">
						<i class="fab fa-markdown"></i> Copy Markdown
					</button>
				</div>
				<div class="tc-output">
					<h3>Happy Path</h3>
					<ul id="happy-list"></ul>
				</div>
				<div class="tc-output">
					<h3>Edge Cases</h3>
					<ul id="edge-list"></ul>
				</div>
				<div class="tc-output">
					<h3>Negative Cases</h3>
					<ul id="negative-list"></ul>
				</div>
			</div>
		</div>
	</main>

	<footer class="copyrightSection">
		<p>&copy; Sam Freund 2025</p>
	</footer>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
	<script>
		(function() {
			var form = document.getElementById('tc-form');
			var results = document.getElementById('tc-results');
			var happyList = document.getElementById('happy-list');
			var edgeList = document.getElementById('edge-list');
			var negativeList = document.getElementById('negative-list');
			var lastResult = null;

			function normalizeSentences(text) {
				return text
					.split(/[\n.!?]+/)
					.map(function(s) { return s.trim(); })
					.filter(Boolean);
			}

			function addUnique(list, item) {
				if (item && list.indexOf(item) === -1) {
					list.push(item);
				}
			}

			function toChecks(sentences) {
				var checks = [];
				for (var i = 0; i < Math.min(sentences.length, 4); i++) {
					addUnique(checks, 'Verify: ' + sentences[i] + '.');
				}
				return checks;
			}

			function buildCases(input, notes, platform, risk) {
				var lower = input.toLowerCase();
				var sentences = normalizeSentences(input);
				var happy = [
					'Verify the feature is reachable from the expected user flow.',
					'Verify core behavior works as described with valid data.'
				].concat(toChecks(sentences));

				var edge = [
					'Verify behavior with empty optional fields.',
					'Verify behavior with unusually long but valid input.',
					'Verify state after refresh/navigation away and back.'
				];

				var negative = [
					'Verify invalid input shows clear validation messaging.',
					'Verify duplicate submissions are handled safely.',
					'Verify error response handling when dependency/service fails.'
				];

				if (/(login|password|auth|token|session)/.test(lower)) {
					addUnique(edge, 'Verify token/session timeout boundaries are enforced.');
					addUnique(negative, 'Verify expired/invalid token is rejected.');
				}
				if (/(email|username|phone)/.test(lower)) {
					addUnique(negative, 'Verify malformed contact identifier is rejected.');
				}
				if (/(upload|file|image|attachment)/.test(lower)) {
					addUnique(edge, 'Verify behavior at max file size boundary.');
					addUnique(negative, 'Verify unsupported file types are rejected.');
				}
				if (/(search|filter|sort)/.test(lower)) {
					addUnique(edge, 'Verify no-result and many-result scenarios.');
				}
				if (/(payment|checkout|purchase|billing)/.test(lower)) {
					addUnique(negative, 'Verify payment failure does not create partial state.');
					addUnique(edge, 'Verify retry flow is safe and idempotent.');
				}

				if (platform === 'API') {
					addUnique(happy, 'Verify HTTP status, payload schema, and required fields.');
					addUnique(negative, 'Verify unauthorized request returns the expected auth status.');
				}
				if (platform === 'Mobile') {
					addUnique(edge, 'Verify behavior on app background/foreground transitions.');
				}
				if (risk === 'High') {
					addUnique(edge, 'Verify concurrency behavior under near-simultaneous actions.');
					addUnique(negative, 'Verify permission boundaries block restricted actions.');
				}
				if (notes) {
					addUnique(happy, 'Scope note: ' + notes + '.');
				}

				return { happy: happy, edge: edge, negative: negative };
			}

			function renderList(el, items) {
				el.innerHTML = items.map(function(item) {
					return '<li>' + item + '</li>';
				}).join('');
			}

			function toPlainText(cases) {
				var lines = [];
				lines.push('Happy Path');
				cases.happy.forEach(function(item, i) { lines.push((i + 1) + '. ' + item); });
				lines.push('');
				lines.push('Edge Cases');
				cases.edge.forEach(function(item, i) { lines.push((i + 1) + '. ' + item); });
				lines.push('');
				lines.push('Negative Cases');
				cases.negative.forEach(function(item, i) { lines.push((i + 1) + '. ' + item); });
				return lines.join('\n');
			}

			function toMarkdown(cases) {
				var lines = [];
				lines.push('## Happy Path');
				cases.happy.forEach(function(item) { lines.push('- ' + item); });
				lines.push('');
				lines.push('## Edge Cases');
				cases.edge.forEach(function(item) { lines.push('- ' + item); });
				lines.push('');
				lines.push('## Negative Cases');
				cases.negative.forEach(function(item) { lines.push('- ' + item); });
				return lines.join('\n');
			}

			function copyText(text) {
				if (!text) return;
				navigator.clipboard.writeText(text);
			}

			form.addEventListener('submit', function(e) {
				e.preventDefault();
				var input = document.getElementById('feature-input').value.trim();
				if (!input) return;
				var notes = document.getElementById('notes-input').value.trim();
				var platform = document.getElementById('platform-input').value;
				var risk = document.getElementById('risk-input').value;

				lastResult = buildCases(input, notes, platform, risk);
				renderList(happyList, lastResult.happy);
				renderList(edgeList, lastResult.edge);
				renderList(negativeList, lastResult.negative);
				results.hidden = false;
			});

			document.getElementById('copy-plain').addEventListener('click', function() {
				if (!lastResult) return;
				copyText(toPlainText(lastResult));
			});

			document.getElementById('copy-markdown').addEventListener('click', function() {
				if (!lastResult) return;
				copyText(toMarkdown(lastResult));
			});
		})();
	</script>
</body>
</html>
