<!DOCTYPE html>
<html lang="en">
<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-133573703-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'UA-133573703-1');
	</script>

	<title>Blog — Sam Freund</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Bootstrap CDN -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" crossorigin="anonymous">

	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
		crossorigin="anonymous" referrerpolicy="no-referrer" />

	<!-- Style CSS -->
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="icon" type="image/x-icon" href="/images/icons/smalllogo.ico">
</head>
<body>
	<nav id="navigation" class="navbar navbar-expand-lg">
		<a class="navbar-brand" href="index.html">SF</a>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
			aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="nav-link" href="index.html">About</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="experience.html">Experience</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="portfolio.html">Portfolio</a>
				</li>
				<li class="nav-item active">
					<a class="nav-link" href="blog.html">Blog <span class="visually-hidden">(current)</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="index.html#contact">Contact</a>
				</li>
			</ul>
		</div>
	</nav>

	<main class="blog-page">
		<div class="container">
			<div class="row">
				<div class="col-lg-8">
					<article class="blog-post">
						<header class="blog-post-header">
							<a href="blog.html" class="blog-back-link"><i class="fas fa-arrow-left"></i> All posts</a>
							<h1 id="post-title"></h1>
							<time id="post-date" class="blog-post-date"></time>
						</header>
						<div id="post-content" class="blog-post-content">
							<p style="color: var(--color-text-muted);">Loading...</p>
						</div>
					</article>
				</div>
				<aside class="col-lg-4">
					<div class="blog-sidebar">
						<div class="blog-sidebar-card">
							<img class="blog-sidebar-image" src="images/samanddogs.jpg" alt="Sam with dogs" loading="lazy">
							<h3>About Me</h3>
							<p>Hi, I'm Sam. Nerdy human and dog dad by day and night, and a bunch of other things between the cracks.</p>
							<div class="blog-sidebar-socials">
								<a href="https://x.com/suhham" class="socialLink" aria-label="X" target="_blank" rel="noopener"><i class="fab fa-x-twitter"></i></a>
								<a href="https://www.instagram.com/suhham" class="socialLink" aria-label="Instagram" target="_blank" rel="noopener"><i class="fab fa-instagram"></i></a>
							</div>
						</div>
					</div>
				</aside>
			</div>
		</div>
	</main>

	<footer class="copyrightSection">
		<p>&copy; Sam Freund 2025</p>
	</footer>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
	<script>
		(function() {
			var params = new URLSearchParams(window.location.search);
			var slug = params.get('post');
			if (!slug) {
				window.location.href = 'blog.html';
				return;
			}

			fetch('posts/posts.json')
				.then(function(r) { return r.json(); })
				.then(function(posts) {
					var post = posts.find(function(p) { return p.slug === slug; });
					if (!post) {
						document.getElementById('post-title').textContent = 'Post not found';
						document.getElementById('post-content').innerHTML = '<p>Sorry, that post doesn\'t exist. <a href="blog.html">Back to blog</a></p>';
						return;
					}

					document.getElementById('post-title').textContent = post.title;
					document.title = post.title + ' — Sam Freund';

					var date = new Date(post.date + 'T00:00:00');
					document.getElementById('post-date').textContent = date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
					document.getElementById('post-date').setAttribute('datetime', post.date);

					return fetch('posts/' + slug + '.md');
				})
				.then(function(r) {
					if (!r) return;
					return r.text();
				})
				.then(function(md) {
					if (!md) return;
					document.getElementById('post-content').innerHTML = marked.parse(md);
				})
				.catch(function() {
					document.getElementById('post-content').innerHTML = '<p>Error loading post. <a href="blog.html">Back to blog</a></p>';
				});
		})();
	</script>
</body>
</html>
